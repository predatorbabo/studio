(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[154],{854:(e,t,r)=>{"use strict";r.d(t,{A:()=>l});var a=r(2115),s=r(4901);let l=()=>{let e=(0,a.useContext)(s.c);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},963:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>l});var a=r(5155),s=r(854);function l(){var e;let{user:t}=(0,s.A)();return(0,a.jsx)("div",{className:"container mx-auto p-4 sm:p-8",children:(0,a.jsxs)("div",{className:"mx-auto max-w-2xl",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold tracking-tight text-foreground sm:text-4xl",children:"Owner Dashboard"}),(0,a.jsxs)("p",{className:"mt-4 text-lg text-muted-foreground",children:["Welcome back, ",(null==t||null==(e=t.profile)?void 0:e.fullName)||"Owner",". Manage your fleet and jobs from here."]}),(0,a.jsx)("div",{className:"mt-8 rounded-lg border bg-card p-8 text-center text-card-foreground",children:(0,a.jsx)("p",{children:"Your company's dashboard will be displayed here."})})]})})}},1653:(e,t,r)=>{Promise.resolve().then(r.bind(r,963))},4585:(e,t,r)=>{"use strict";r.d(t,{db:()=>d,j:()=>o});var a=r(2078),s=r(9253),l=r(9708);let i=(0,a.Dk)().length?(0,a.Sx)():(0,a.Wp)({apiKey:"test-api-key",authDomain:"test-project-id.firebaseapp.com",projectId:"test-project-id",storageBucket:"test-project-id.appspot.com",messagingSenderId:"1234567890",appId:"1:1234567890:web:1234567890abcdef"}),o=(0,s.xI)(i),d=(0,l.aU)(i)},4901:(e,t,r)=>{"use strict";r.d(t,{AuthProvider:()=>u,c:()=>n});var a=r(5155),s=r(2115),l=r(9253),i=r(9708),o=r(4585),d=r(63);let n=(0,s.createContext)({user:null,loading:!0});function u(e){let{children:t}=e,[r,u]=(0,s.useState)(null),[c,p]=(0,s.useState)(!0),x=(0,d.useRouter)();return(0,s.useEffect)(()=>{let e=(0,l.hg)(o.j,async e=>{if(p(!0),e){let t=(0,i.H9)(o.db,"users",e.uid),r=await (0,i.x7)(t);if(r.exists()){let t=r.data();u({...e,profile:t})}else{let r={uid:e.uid,email:e.email,role:null,createdAt:(0,i.O5)(),profileComplete:!1};try{await (0,i.BN)(t,r);let a=await (0,i.x7)(t);a.exists()&&u({...e,profile:a.data()})}catch(e){console.error("Error creating user document:",e),u(null)}}}else u(null);p(!1)});return()=>e()},[x]),(0,a.jsx)(n.Provider,{value:{user:r,loading:c},children:t})}}},e=>{e.O(0,[992,644,573,441,255,358],()=>e(e.s=1653)),_N_E=e.O()}]);